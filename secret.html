---
permalink: /secret
---
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TERMINAL | UROBOROS</title>
    <style>
        :root { --green: #00ff41; --red: #ff3333; --blue: #00f2ff; --dim: #002200; }
        body { background: #000; color: var(--green); font-family: 'Courier New', monospace; margin: 0; overflow: hidden; height: 100vh; }
        
        #noise-layer { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: url('https://media.giphy.com/media/oEI9uWUicGLeE/giphy.gif'); background-size: cover; opacity: 0.5; z-index: 500; pointer-events: none; }
        #blackout { display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: #000; color: var(--red); z-index: 400; flex-direction: column; align-items: center; justify-content: center; }

        .terminal { width: 90%; max-width: 900px; margin: 20px auto; border: 1px solid var(--green); padding: 20px; background: rgba(0,10,0,0.95); }
        .stats { display: flex; justify-content: space-between; font-size: 0.8rem; margin-bottom: 10px; }
        .power-bar { width: 100%; height: 10px; background: #111; border: 1px solid var(--dim); margin-bottom: 20px; }
        #power-fill { width: 100%; height: 100%; background: var(--blue); transition: 0.5s; }

        .file-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 10px; max-height: 200px; overflow-y: auto; border: 1px solid var(--dim); padding: 10px; }
        .file { border: 1px solid var(--dim); padding: 8px; cursor: pointer; text-align: center; font-size: 0.75rem; }
        .file:hover { background: var(--dim); border-color: var(--green); }

        .decoder-panel { margin-top: 20px; border-top: 1px dashed var(--green); padding-top: 15px; text-align: center; }
        select, input { background: #000; border: 1px solid var(--green); color: var(--green); padding: 8px; font-family: inherit; margin: 5px; }
        .btn { background: var(--green); color: #000; border: none; padding: 10px 20px; cursor: pointer; font-weight: bold; width: 250px; }

        #modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 300; align-items: center; justify-content: center; }
        .m-cont { border: 1px solid var(--green); background: #000; padding: 25px; width: 80%; max-width: 600px; position: relative; }
        #m-body { max-height: 350px; overflow-y: auto; line-height: 1.6; white-space: pre-wrap; }
        
        .glitch-text { animation: shake 0.2s infinite; display: inline-block; }
        @keyframes shake { 0% { transform: translate(0); } 25% { transform: translate(-1px,1px); color: var(--red); } 50% { transform: translate(1px,-1px); color: var(--blue); } 100% { transform: translate(0); } }
    </style>
</head>
<body>

<div id="noise-layer"></div>
<div id="blackout"><h1>CRITICAL POWER FAILURE</h1><button onclick="reboot()" class="btn">REBOOT</button></div>

<div id="modal">
    <div class="m-cont">
        <span onclick="closeM()" style="color:var(--red); cursor:pointer; font-weight:bold;">[ CLOSE ]</span>
        <div id="m-body"></div>
    </div>
</div>

<div class="terminal">
    <div class="stats"><span>STATION: OMEGA-01</span><span id="p-text">POWER: 100%</span></div>
    <div class="power-bar"><div id="power-fill"></div></div>
    <div id="file-list" class="file-grid"></div>

    <div class="decoder-panel">
        <select id="algo">
            <option value="direct">DIRECT ACCESS</option>
            <option value="base64">BASE64</option>
            <option value="reverse">REVERSE</option>
            <option value="atbash">ATBASH</option>
            <option value="caesar">CAESAR (-7)</option>
        </select>
        <br>
        <input type="text" id="code-in" placeholder="ENTER KEY...">
        <br>
        <button id="run-btn" class="btn" onclick="processDecode()">RUN_DECODER.EXE</button>
    </div>
</div>

<script>
    let power = 100;
    let unlocked = JSON.parse(localStorage.getItem('uroboros_v3')) || ["initial"];
    let readDone = false;

    const DATABASE = [
        { id: "initial", h: "FILE_00: ORIGIN", c: "Subject 1 was different. He actually loved the scientists. He saw them as his family...\n\n(Key hidden in plain sight: SOURCE_GHOST)" },
        { id: "SOURCE_GHOST", h: "FILE_01: DEVOTION", c: "He used to bring them drawings. He wanted to be 'good'. He didn't know he was an experiment.\n\n<span title='SOS' style='color:var(--green); border-bottom: 1px dotted;'>[ HOVER FOR KEY ]</span>" },
        { id: "SOS", h: "FILE_02: THE_BREAK", c: "— Subject 1... say 'apple'...\n— RELEASE ME! I LOVED YOU! WHY DO YOU DO THIS?\n— He's not smiling anymore. The love turned into pure hate.\n\n[DECODE THIS]: .dlrow_eht_ezieS" },
        { id: "Seize_the_world.", h: "FILE_03: VENGEANCE", c: "Now he hates everyone. Especially those who watch him. Like you.\n\nKey: Look_Behind_You" },
        { id: "Look_Behind_You", h: "FILE_04: BREACH", c: "Hello <span id='p-name'>...</span>. You are using <span id='p-browser'>...</span>.\nHe is in the wires now. He is coming.\n\nNext Key: STAY-QUIET" },
        { id: "STAY-QUIET", h: "FILE_05: TRAP", c: "He pretended to be obedient again. We thought he loved us once more. We were wrong.\n\nKey: RE-BORN_77" },
        { id: "RE-BORN_77", h: "FILE_06: AGONY", c: "His behavior is suspicious, but we trust him [ WRONG ]...\n\n— help me.. —\n\n(Key: MIRROR_OFF)" },
        { id: "MIRROR_OFF", h: "FILE_07: SABOTAGE", c: "He waited for the right moment. He destroyed the generator.\nThat <span class='glitch-text'>DAMN</span> thing is dead.\n\nKey: BREACH_ALARM" },
        { id: "BREACH_ALARM", h: "FILE_08: EVOLUTION", c: "He absorbed the spark. He is the grid. He feels your fear through this screen.\n\nKey: VOID_WALKER" }
    ];

    function render() {
        const list = document.getElementById('file-list');
        list.innerHTML = "";
        DATABASE.forEach(f => {
            if(unlocked.includes(f.id)) list.innerHTML += `<div class="file" onclick="openF('${f.id}')">${f.h}</div>`;
        });
        localStorage.setItem('uroboros_v3', JSON.stringify(unlocked));
    }

    function openF(id) {
        if(power <= 0) return;
        const f = DATABASE.find(x => x.id === id);
        const body = document.getElementById('m-body');
        const btn = document.getElementById('run-btn');
        
        readDone = false;
        btn.disabled = true;
        btn.innerText = "READING... 0%";
        body.innerHTML = f.c;
        document.getElementById('modal').style.display = "flex";

        if(id === "Look_Behind_You") {
            document.getElementById('p-name').innerText = "USR_" + Math.floor(Math.random()*999);
            document.getElementById('p-browser').innerText = navigator.userAgent.split(' ')[0];
        }

        if(id === "RE-BORN_77") { // Глюк на фразе "помоги"
            document.getElementById('noise-layer').style.display = "block";
            setTimeout(() => { document.getElementById('noise-layer').style.display = "none"; }, 2000);
        }

        if(id === "MIRROR_OFF") {
            document.getElementById('blackout').style.display = "flex";
            updateP(-40);
            setTimeout(() => { document.getElementById('blackout').style.display = "none"; }, 2500);
        }

        body.onscroll = () => {
            let p = (body.scrollTop / (body.scrollHeight - body.clientHeight)) * 100;
            if(isNaN(p) || body.scrollHeight <= body.clientHeight + 10) p = 100;
            btn.innerText = `READING... ${Math.round(p)}%`;
            if(p >= 95) { readDone = true; btn.disabled = false; btn.innerText = "RUN_DECODER.EXE"; }
        };
        if(body.scrollHeight <= body.clientHeight + 10) {
            setTimeout(() => { readDone = true; btn.disabled = false; btn.innerText = "RUN_DECODER.EXE"; }, 1500);
        }
    }

    function processDecode() {
        if(!readDone) return;
        const algo = document.getElementById('algo').value;
        const val = document.getElementById('code-in').value.trim();
        let decoded = val;

        try {
            if(algo === "base64") decoded = atob(val);
            if(algo === "reverse") decoded = val.split("").reverse().join("");
            if(algo === "atbash") {
                const a = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";
                const r = "ZYXWVUTSRQPONMLKJIHGFEDCBAzyxwvutsrqponmlkjihgfedcba";
                decoded = val.split('').map(c => a.indexOf(c) > -1 ? r[a.indexOf(c)] : c).join('');
            }
            if(algo === "caesar") {
                decoded = val.replace(/[a-z]/gi, c => String.fromCharCode((c <= "Z" ? 90 : 122) >= (c = c.charCodeAt(0) - 7) ? c : c + 26));
            }
        } catch(e) { decoded = "ERR"; }

        const f = DATABASE.find(x => x.id === decoded || x.id === val);
        updateP(-15);
        if(f && !unlocked.includes(f.id)) {
            unlocked.push(f.id); render(); alert("DATA RECOVERED");
        } else { alert("ACCESS DENIED"); }
        document.getElementById('code-in').value = "";
    }

    function updateP(n) {
        power += n; if(power <= 0) { power = 0; document.getElementById('blackout').style.display = "flex"; }
        document.getElementById('power-fill').style.width = power + "%";
        document.getElementById('p-text').innerText = `POWER: ${power}%`;
    }

    function reboot() { location.reload(); }
    function closeM() { document.getElementById('modal').style.display = "none"; }
    function resetGame() { localStorage.clear(); location.reload(); }

    render();
</script>
</body>
</html>
