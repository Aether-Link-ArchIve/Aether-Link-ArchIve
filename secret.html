---
permalink: /secret
---
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UROBOROS | SYSTEM_TERMINAL</title>
    <style>
        :root { 
            --main-green: #00ff41; 
            --dim-green: #003311; 
            --alert-red: #ff3333; 
            --power-blue: #00f2ff; 
        }
        
        body { 
            font-family: 'Courier New', monospace; 
            background: #000; color: var(--main-green); 
            margin: 0; overflow: hidden; height: 100vh; 
        }

        /* ЭФФЕКТЫ СБОЯ */
        #glitch-overlay {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: url('https://media.giphy.com/media/oEI9uWUicGLeE/giphy.gif');
            background-size: cover; opacity: 0.15; z-index: 100; pointer-events: none;
        }

        #blackout-screen {
            display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; color: var(--alert-red); z-index: 90;
            flex-direction: column; align-items: center; justify-content: center;
        }

        .terminal-box { 
            width: 90%; max-width: 850px; margin: 20px auto; 
            border: 1px solid var(--main-green); padding: 20px; 
            background: rgba(0,5,0,0.98); position: relative; z-index: 5; 
        }

        /* ТАЙМЕР И ПИТАНИЕ */
        #timer { font-size: 2.5rem; text-align: center; font-weight: bold; margin-bottom: 10px; }
        .power-container { width: 100%; background: #111; height: 8px; margin-bottom: 20px; border: 1px solid var(--dim-green); }
        #power-level { height: 100%; width: 100%; background: var(--power-blue); transition: 0.3s; }

        /* СПИСОК ФАЙЛОВ */
        .file-list { 
            display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); 
            gap: 10px; max-height: 250px; overflow-y: auto; padding: 10px; border: 1px solid var(--dim-green);
        }
        .file-item { border: 1px solid var(--dim-green); padding: 10px; cursor: pointer; background: #020202; text-align: center; font-size: 0.8rem; }
        .file-item:hover { border-color: var(--main-green); background: var(--dim-green); }

        /* ЗОНА ДЕШИФРАТОРА */
        .recovery-zone { border-top: 1px dashed var(--dim-green); margin-top: 20px; padding-top: 15px; text-align: center; }
        .decode-progress-container {
            width: 70%; background: #111; height: 4px; margin: 10px auto;
            display: none; border: 1px solid var(--dim-green);
        }
        #decode-bar { height: 100%; width: 0%; background: var(--main-green); box-shadow: 0 0 8px var(--main-green); }

        input { 
            background: #000; border: 1px solid var(--dim-green); color: var(--main-green); 
            padding: 10px; width: 60%; outline: none; font-family: inherit; text-align: center; 
        }
        
        .btn { background: var(--main-green); color: #000; border: none; padding: 10px 20px; cursor: pointer; font-weight: bold; margin-top: 10px; width: 64%; }
        .reboot-btn { background: transparent; border: 1px solid var(--power-blue); color: var(--power-blue); padding: 8px 15px; cursor: pointer; margin-top: 10px; }

        /* МОДАЛЬНОЕ ОКНО */
        #file-modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 150; align-items: center; justify-content: center; }
        .modal-content { border: 1px solid var(--main-green); background: #000; padding: 30px; width: 80%; max-width: 600px; }
        
        .invisible-ink { color: #000; user-select: all; }
        .invisible-ink:hover { background: #111; }
    </style>
</head>
<body>

<div id="glitch-overlay"></div>

<div id="file-modal">
    <div class="modal-content">
        <span style="color:var(--alert-red); cursor:pointer; font-weight:bold;" onclick="closeFile()">[ CLOSE_FILE ]</span>
        <div id="modal-body" style="line-height: 1.6; white-space: pre-wrap; margin-top: 20px;"></div>
    </div>
</div>

<div class="terminal-box" id="main-terminal">
    <div id="blackout-screen">
        <h1 style="color: var(--alert-red);">CRITICAL POWER FAILURE</h1>
        <p style="color: var(--alert-red);">SYSTEM OFFLINE</p>
    </div>

    <div style="display: flex; justify-content: space-between; font-size: 0.8rem;">
        <span>DECODER_v2.0</span>
        <span id="p-status" style="color:var(--power-blue)">STABILITY: 100%</span>
    </div>
    
    <div id="timer">60:00</div>
    <div class="power-container"><div id="power-level"></div></div>

    <div id="archive-content" class="file-list"></div>

    <div class="recovery-zone">
        <div id="decode-progress-container" class="decode-progress-container">
            <div id="decode-bar"></div>
        </div>
        <input type="text" id="recoveryInput" placeholder="WAITING FOR KEY...">
        <br>
        <button id="decryptBtn" class="btn" onclick="checkRecoveryCode()">RUN_DECODER.EXE</button>
        <br>
        <button id="rebootBtn" class="reboot-btn" onclick="rebootSystem()">[ EMERGENCY REBOOT ]</button>
    </div>
</div>

<script>
    let timeLeft = 3600;
    let power = 100;
    let isRebooting = false;
    let unlockedIds = ["initial"];

    const DATABASE = [
        { id: "initial", header: "FILE_00: BOOT", content: "SYSTEM_ACCESS: GRANTED.\n\nLead Scientist Access Key: 9102-UUo#" },
        { id: "9102-UUo#", header: "FILE_01: SUBJECT_LOG", content: "Highlight text: <span class='invisible-ink'>KEY: MTEtRVhJVC1OT1c=</span>" },
        { id: "11-EXIT-NOW", header: "FILE_02: THREAT", content: "Binary: 01000010-01001001-01001110-01000001-01010010-01011001" },
        { id: "BINARY", header: "FILE_03: THE_STARE", content: "FIND HIM: 0xDEAD-BEEF" },
        { id: "0xDEAD-BEEF", header: "FILE_04: THE_SILENCE", content: "MEMORY_DUMP_AT_0x52-55-4E" },
        { id: "RUN", header: "FILE_05: THE_OVERSEER", content: "Atbash: G7-KIVVWV" },
        { id: "G7-FREEZE", header: "FILE_06: CORRUPTED", content: "Subject 2 is DEAD. (CODE: 92012)" },
        { id: "92012", header: "FILE_07: AUDIO", content: "Cipher: 'Zpms-Kvb' | Key: 'TRAP'" },
        { id: "Gate-Key", header: "FILE_10: DARKNESS", content: "<span class='invisible-ink'>KEY: VOID-99</span>" },
        { id: "VOID-99", header: "FILE_11: INTERFERENCE", content: "Binary: 0101-0011-0100-1111-0101-0011" },
        { id: "SOS", header: "FILE_12: TRANSCRIPT", content: "Shift: +7 | 'Kvu-Xshf-Nhtlz'" },
        { id: "Don-Play-Games", header: "FILE_13: FIRST_WORD", content: "Hint: .dlrow_eht_ezieS" },
        { id: "Seize_the_world.", header: "FILE_14: THREAT", content: "Next: Look_Behind_You" },
        { id: "Look_Behind_You", header: "FILE_15: BREACH", content: "Name: <span id='p-name'>...</span>\nBrowser: <span id='p-browser'>...</span>\n\nNext Key: STAY-QUIET" }
    ];

    function renderFiles() {
        const container = document.getElementById('archive-content');
        container.innerHTML = "";
        DATABASE.forEach(file => {
            if (unlockedIds.includes(file.id)) {
                container.innerHTML += `<div class="file-item" onclick="openFile('${file.id}')"><b>${file.header}</b></div>`;
            }
        });
    }

    function openFile(id) {
        if(power <= 0 || isRebooting) return;
        const file = DATABASE.find(f => f.id === id);
        
        // Спецэффекты
        if (id === "Look_Behind_You") {
            setTimeout(() => {
                let browser = navigator.userAgent.includes("Chrome") ? "Google Chrome" : "Web Browser";
                document.getElementById('p-browser').innerText = browser;
                document.getElementById('p-name').innerText = "PLAYER_01";
            }, 100);
        }

        document.getElementById('modal-body').innerHTML = file.content;
        document.getElementById('file-modal').style.display = "flex";
    }

    // ЛОГИКА ДЕШИФРАТОРА (С ПОЛОСОЙ ЗАГРУЗКИ)
    function checkRecoveryCode() {
        if (power <= 0 || isRebooting) return;
        const inputField = document.getElementById('recoveryInput');
        const btn = document.getElementById('decryptBtn');
        const progressBar = document.getElementById('decode-progress-container');
        const barInner = document.getElementById('decode-bar');
        const input = inputField.value.trim();

        if (input === "" || unlockedIds.includes(input)) return;

        inputField.disabled = true;
        btn.disabled = true;
        progressBar.style.display = "block";
        
        let progress = 0;
        let interval = setInterval(() => {
            progress += 5;
            barInner.style.width = progress + "%";

            if (power <= 0) { clearInterval(interval); resetDecoder(); }

            if (progress >= 100) {
                clearInterval(interval);
                const file = DATABASE.find(f => f.id === input);
                updatePower(-20);
                if (file) {
                    unlockedIds.push(input);
                    renderFiles();
                } else {
                    alert("ERROR: INVALID DATA STRING");
                }
                resetDecoder();
            }
        }, 60); 
    }

    function resetDecoder() {
        document.getElementById('recoveryInput').disabled = false;
        document.getElementById('recoveryInput').value = "";
        document.getElementById('decryptBtn').disabled = false;
        document.getElementById('decode-progress-container').style.display = "none";
        document.getElementById('decode-bar').style.width = "0%";
    }

    function updatePower(change) {
        power += change;
        if (power > 100) power = 100;
        if (power <= 0) { power = 0; applyBlackout(true); }
        document.getElementById('power-level').style.width = power + "%";
        document.getElementById('p-status').innerText = `STABILITY: ${power}%`;
    }

    function applyBlackout(state) {
        document.getElementById('blackout-screen').style.display = state ? "flex" : "none";
        document.getElementById('glitch-overlay').style.display = state ? "block" : "none";
    }

    function rebootSystem() {
        if (isRebooting) return;
        isRebooting = true;
        closeFile();
        document.getElementById('rebootBtn').innerText = "[ REBOOTING... ]";
        setTimeout(() => {
            power = 100; updatePower(0); applyBlackout(false);
            isRebooting = false; document.getElementById('rebootBtn').innerText = "[ EMERGENCY REBOOT ]";
        }, 5000);
    }

    function closeFile() { document.getElementById('file-modal').style.display = "none"; }

    setInterval(() => {
        if (timeLeft > 0) {
            timeLeft--;
            let m = Math.floor(timeLeft / 60); let s = timeLeft % 60;
            document.getElementById('timer').innerText = `${m}:${s < 10 ? '0' : ''}${s}`;
        }
    }, 1000);

    renderFiles();
</script>
</body>
</html>
