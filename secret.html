---
permalink: /secret
---
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UROBOROS | SYSTEM FLOW</title>
    <link rel="icon" type="image/jpeg" href="favicon.jpg">
    <style>
        body { font-family: 'Courier New', monospace; background: #000; color: #00ff41; display: flex; align-items: center; justify-content: center; min-height: 100vh; margin: 0; }
        .terminal-box { border: 1px solid #00ff41; padding: 30px; background: rgba(0,10,0,0.95); width: 90%; max-width: 700px; position: relative; }
        
        #timer { display: none; font-size: 2.5rem; text-align: center; margin-bottom: 20px; font-weight: bold; border-bottom: 1px double #00ff41; }
        .warning { color: #ff3333; animation: blink 1s infinite; }
        @keyframes blink { 50% { opacity: 0.3; } }

        .menu-btn { background: #00ff41; color: #000; border: none; padding: 15px; width: 100%; cursor: pointer; font-weight: bold; margin-bottom: 10px; text-transform: uppercase; font-family: inherit; }
        
        #data-screen { display: none; }
        
        /* Блоки данных */
        .db-block { border: 1px solid rgba(0,255,65,0.2); padding: 15px; margin-bottom: 15px; background: rgba(0,20,0,0.8); display: none; animation: fadeIn 0.5s; }
        .db-header { font-weight: bold; color: #fff; border-bottom: 1px solid rgba(0,255,65,0.3); margin-bottom: 10px; font-size: 0.75rem; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .recovery-zone { margin-top: 25px; border-top: 1px dashed #00ff41; padding-top: 20px; }
        input { background: transparent; border: 1px solid #00ff41; color: #00ff41; padding: 10px; font-family: inherit; width: 100%; box-sizing: border-box; outline: none; margin-bottom: 10px; text-align: center; }
        
        .controls { display: flex; gap: 10px; margin-top: 20px; }
        .btn-small { flex: 1; background: transparent; border: 1px solid #00ff41; color: #00ff41; padding: 10px; cursor: pointer; font-size: 0.7rem; text-transform: uppercase; font-family: inherit; }
        
        /* Кнопка финала изначально выключена */
        #final-btn { background: #111; color: #333; border-color: #333; cursor: not-allowed; }
        #final-btn.active { background: #ff3333; color: white; border-color: #ff3333; cursor: pointer; animation: pulse 1s infinite; }
        @keyframes pulse { 0% { box-shadow: 0 0 0px red; } 50% { box-shadow: 0 0 15px red; } 100% { box-shadow: 0 0 0px red; } }
    </style>
</head>
<body>

<div class="terminal-box">
    <h2 style="text-align: center; letter-spacing: 5px;">UROBOROS_v3.0</h2>

    <div id="mode-select">
        <p style="text-align: center; opacity: 0.7;">PROGRESSIVE DATA DECRYPTION INITIALIZED.</p>
        <button class="menu-btn" onclick="initTerminal()">START INVESTIGATION (01:00:00)</button>
    </div>

    <div id="timer">60:00</div>
    
    <div id="data-screen">
        <div id="archive-content">
            </div>
        
        <div class="recovery-zone">
            <p style="font-size: 0.7rem; text-align: center;">[ENTER RECOVERY CODE TO UNLOCK NEXT DATA LAYERS]</p>
            <input type="text" id="recoveryInput" placeholder="EX: 0000-XXX#">
            <button class="btn-small" style="width:100%" onclick="checkRecoveryCode()">SUBMIT CODE</button>
        </div>

        <div class="controls">
            <button id="refill-btn" class="btn-small" onclick="addTime()">+ REFILL</button>
            <button id="final-btn" class="btn-small" onclick="triggerFinalQuestion()" disabled>FINAL RECOVERY</button>
        </div>
    </div>
</div>

<script>
    let timeLeft = 3600;
    let timerId = null;

    // СТРУКТУРА БАЗЫ ДАННЫХ (До 30 блоков)
    const DATABASE = [
        { id: "start", level: 1, header: "FILE_01: SYSTEM START", content: "The investigation begins. Look for codes in the next files. First lead: Sector-7 logs." },
        { id: "start2", level: 1, header: "FILE_02: SCIENTIST NOTE", content: "I hid the first recovery key in the source code of the gateway. It's 'AhUi90a8'. Wait, that's just the login..." },
        { id: "9102-UUo#", level: 2, header: "FILE_03: RESEARCHER LOGS", content: "Access granted via 'Scientist' credentials. We found the Uroboros core. It's not a virus, it's a map." },
        // Сюда ты можешь добавить остальные 27 блоков, просто меняя 'id' на код, который их открывает
    ];

    function initTerminal() {
        document.getElementById('mode-select').style.display = 'none';
        document.getElementById('data-screen').style.display = 'block';
        document.getElementById('timer').style.display = 'block';
        
        renderBlocks(1); // Показываем блоки 1-го уровня
        startTimer();
    }

    function renderBlocks(level) {
        const container = document.getElementById('archive-content');
        DATABASE.forEach(block => {
            if (block.level === level) {
                const div = document.createElement('div');
                div.className = 'db-block';
                div.id = `block-${block.id}`;
                div.style.display = 'block';
                div.innerHTML = `<div class="db-header">${block.header}</div><div class="db-body">${block.content}</div>`;
                container.appendChild(div);
            }
        });
    }

    function checkRecoveryCode() {
        const input = document.getElementById('recoveryInput').value.trim();
        const block = DATABASE.find(b => b.id === input);
        
        if (block) {
            if (document.getElementById(`block-${block.id}`)) {
                alert("BLOCK ALREADY DECRYPTED.");
            } else {
                alert("NEW DATA LAYER UNLOCKED.");
                renderSingleBlock(block);
                document.getElementById('recoveryInput').value = "";
            }
        } else {
            alert("INVALID RECOVERY CODE.");
        }
    }

    function renderSingleBlock(block) {
        const container = document.getElementById('archive-content');
        const div = document.createElement('div');
        div.className = 'db-block';
        div.id = `block-${block.id}`;
        div.style.display = 'block';
        div.innerHTML = `<div class="db-header">${block.header}</div><div class="db-body">${block.content}</div>`;
        container.appendChild(div);
    }

    function startTimer() {
        timerId = setInterval(() => {
            timeLeft--;
            updateTimerDisplay();

            if (timeLeft <= 0) {
                clearInterval(timerId);
                activateFinalPhase();
            }
        }, 1000);
    }

    function updateTimerDisplay() {
        const m = Math.floor(timeLeft / 60);
        const s = timeLeft % 60;
        const tDiv = document.getElementById('timer');
        tDiv.innerText = `${m}:${s < 10 ? '0' : ''}${s}`;
        if (timeLeft <= 300) tDiv.classList.add('warning'); // Красный на 5 минутах
    }

    function activateFinalPhase() {
        const btn = document.getElementById('final-btn');
        btn.disabled = false;
        btn.classList.add('active');
        document.getElementById('timer').innerText = "00:00 - FINAL GATE OPEN";
        alert("CRITICAL: TIME EXPIRED. FINAL GATEWAY IS NOW OPEN.");
    }

    function triggerFinalQuestion() {
        const finalAns = prompt("FINAL VERIFICATION: What is the true nature of Project Vixious?");
        if (finalAns && finalAns.toLowerCase() === "a map") { // Ответ из FILE_03
            alert("TRUE NATURE DISCOVERED. RECOVERY COMPLETE.");
            window.location.href = "part2.html"; 
        } else {
            alert("WRONG ANSWER. SYSTEM PURGED.");
            window.location.href = "index.html";
        }
    }

    function addTime() { timeLeft += 600; }
    function giveUp() { window.location.href = "index.html"; }
</script>

</body>
</html>
